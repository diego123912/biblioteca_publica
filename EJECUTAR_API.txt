â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  GUÃA PARA EJECUTAR LA API EN POSTMAN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ PASO 1: INICIAR LA APLICACIÃ“N
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

OpciÃ³n A - Desde tu IDE (Recomendado):
1. Abre el proyecto en IntelliJ IDEA o tu IDE preferido
2. Navega a: src/main/java/co/edu/umanizales/biblioteca_publica/BibliotecaPublicaApplication.java
3. Click derecho â†’ Run 'BibliotecaPublicaApplication'

OpciÃ³n B - Desde la terminal:
1. Abre PowerShell o CMD en la carpeta del proyecto
2. Ejecuta: .\mvnw.cmd spring-boot:run

La aplicaciÃ³n estarÃ¡ disponible en: http://localhost:8070


ğŸ“¦ PASO 2: VERIFICAR QUE LA API ESTÃ CORRIENDO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

VerÃ¡s en la consola:
- "Loading initial data..."
- "âœ“ Initial data loaded successfully"
- "Started BibliotecaPublicaApplication in X seconds"


ğŸ“® PASO 3: PROBAR EN POSTMAN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â• PRUEBA BÃSICA 1: Listar todos los libros â•â•â•

MÃ©todo: GET
URL: http://localhost:8070/api/books


Respuesta esperada: Array con 5 libros precargados


â•â•â• PRUEBA BÃSICA 2: Obtener un libro especÃ­fico â•â•â•

MÃ©todo: GET
URL: http://localhost:8070/api/books/BK001

Respuesta esperada: Detalles del libro "One Hundred Years of Solitude"


â•â•â• PRUEBA BÃSICA 3: Crear un nuevo libro â•â•â•

MÃ©todo: POST
URL: http://localhost:8070/api/books
Headers: 
  Content-Type: application/json

Body (JSON):
{
  "isbn": "978-0-307-47424-7",
  "title": "The Little Prince",
  "author": "Antoine de Saint-ExupÃ©ry",
  "publisher": "Gallimard",
  "publicationYear": 1943,
  "genre": "FICTION",
  "availableQuantity": 4,
  "totalQuantity": 4,
  "location": "Shelf A5"
}


â•â•â• PRUEBA BÃSICA 4: Listar todos los usuarios â•â•â•

MÃ©todo: GET
URL: http://localhost:8070/api/users

Respuesta esperada: Array con 4 usuarios precargados
- STU001: Maria Gonzalez (Estudiante)
- STU002: Carlos Rodriguez (Estudiante)
- TCH001: Ana Martinez (Profesor)
- ADM001: Luis Sanchez (Administrador)


â•â•â• PRUEBA AVANZADA 5: Realizar un prÃ©stamo (Polimorfismo) â•â•â•

MÃ©todo: POST
URL: http://localhost:8070/api/loans/perform
Headers:
  Content-Type: application/json

Body (JSON):
{
  "userId": "STU001",
  "bookId": "BK001"
}

Nota: El sistema calcularÃ¡ automÃ¡ticamente la fecha de devoluciÃ³n:
- Estudiante (STU001): 15 dÃ­as
- Profesor (TCH001): 30 dÃ­as
- Administrador (ADM001): 60 dÃ­as


â•â•â• PRUEBA AVANZADA 6: Crear una reseÃ±a â•â•â•

MÃ©todo: POST
URL: http://localhost:8070/api/reviews
Headers:
  Content-Type: application/json

Body (JSON):
{
  "userId": "STU001",
  "bookId": "BK001",
  "rating": 5,
  "comment": "Una obra maestra de la literatura latinoamericana",
  "creationDate": "2025-11-06T20:00:00"
}


ğŸ“š ENDPOINTS DISPONIBLES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

LIBROS (/api/books):
âœ“ GET    /api/books                           - Listar todos
âœ“ GET    /api/books/{id}                      - Obtener por ID
âœ“ POST   /api/books                           - Crear nuevo
âœ“ PUT    /api/books/{id}                      - Actualizar
âœ“ DELETE /api/books/{id}                      - Eliminar
âœ“ GET    /api/books/search/title?title=xxx    - Buscar por tÃ­tulo
âœ“ GET    /api/books/search/author?author=xxx  - Buscar por autor
âœ“ GET    /api/books/search/genre/{genre}      - Buscar por gÃ©nero

USUARIOS (/api/users):
âœ“ GET    /api/users                           - Listar todos
âœ“ GET    /api/users/{id}                      - Obtener por ID
âœ“ POST   /api/users                           - Crear nuevo
âœ“ PUT    /api/users/{id}                      - Actualizar
âœ“ DELETE /api/users/{id}                      - Eliminar
âœ“ GET    /api/users/type/{type}               - Buscar por tipo
âœ“ GET    /api/users/search/email?email=xxx    - Buscar por email

PRÃ‰STAMOS (/api/loans):
âœ“ GET    /api/loans                           - Listar todos
âœ“ GET    /api/loans/{id}                      - Obtener por ID
âœ“ POST   /api/loans/perform                   - Realizar prÃ©stamo
âœ“ POST   /api/loans/{id}/return               - Devolver libro
âœ“ GET    /api/loans/user/{userId}             - PrÃ©stamos de usuario
âœ“ GET    /api/loans/status/{status}           - Filtrar por estado
âœ“ POST   /api/loans/check-overdue             - Verificar vencidos

RESEÃ‘AS (/api/reviews):
âœ“ GET    /api/reviews                         - Listar todas
âœ“ GET    /api/reviews/{id}                    - Obtener por ID
âœ“ POST   /api/reviews                         - Crear nueva
âœ“ PUT    /api/reviews/{id}                    - Actualizar
âœ“ DELETE /api/reviews/{id}                    - Eliminar
âœ“ GET    /api/reviews/book/{bookId}           - ReseÃ±as de libro
âœ“ GET    /api/reviews/user/{userId}           - ReseÃ±as de usuario
âœ“ POST   /api/reviews/{id}/approve            - Aprobar reseÃ±a
âœ“ GET    /api/reviews/book/{id}/average-rating - CalificaciÃ³n promedio

RESERVAS (/api/reservations):
âœ“ GET    /api/reservations                    - Listar todas
âœ“ GET    /api/reservations/{id}               - Obtener por ID
âœ“ POST   /api/reservations                    - Crear nueva
âœ“ GET    /api/reservations/user/{userId}      - Reservas de usuario
âœ“ GET    /api/reservations/active             - Solo activas
âœ“ POST   /api/reservations/{id}/cancel        - Cancelar
âœ“ POST   /api/reservations/{id}/complete      - Completar


ğŸ“ IMPORTAR COLECCIÃ“N EN POSTMAN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

TambiÃ©n puedes importar la colecciÃ³n preconfigurada:

1. Abre Postman
2. Click en "Import"
3. Selecciona el archivo: Biblioteca_API.postman_collection.json
4. Todas las peticiones estarÃ¡n listas para usar


âš™ï¸ DATOS DE REFERENCIA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

GÃ‰NEROS DE LIBROS:
- FICTION
- SCIENCE
- TECHNOLOGY
- HISTORY
- BIOGRAPHY
- SELF_HELP
- CHILDRENS
- POETRY

TIPOS DE USUARIO:
- STUDENT
- TEACHER
- ADMINISTRATOR

ESTADOS DE PRÃ‰STAMO:
- ACTIVE
- OVERDUE
- COMPLETED


ğŸ’¡ TIPS IMPORTANTES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Para peticiones POST/PUT, no olvides el header:
   Content-Type: application/json

2. Los IDs de los datos precargados son:
   - Usuarios: STU001, STU002, TCH001, ADM001
   - Libros: BK001, BK002, BK003, BK004, BK005

3. El polimorfismo se ve en acciÃ³n al realizar prÃ©stamos:
   Cada tipo de usuario tiene diferentes lÃ­mites y plazos

4. Los datos se guardan automÃ¡ticamente en archivos CSV
   en la carpeta: data/csv/


ğŸ”§ SOLUCIÃ“N DE PROBLEMAS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Error "Connection refused":
   â†’ La aplicaciÃ³n no estÃ¡ corriendo, inÃ­ciala primero

âŒ Error 404:
   â†’ Verifica la URL correcta: http://localhost:8070/api/...

âŒ Error 400 "Bad Request":
   â†’ Verifica que el JSON estÃ© bien formado
   â†’ Verifica que tengas el header Content-Type

âŒ Puerto 8070 ocupado:
   â†’ Cambia el puerto en: src/main/resources/application.properties
   â†’ Edita: server.port=8070 (cÃ¡mbialo a 8071, 8072, etc.)


ğŸ“š MÃS INFORMACIÃ“N
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

- README.md - DocumentaciÃ³n completa del proyecto
- API_TESTING_GUIDE.md - GuÃ­a detallada de pruebas
- POSTMAN_QUICK_START.md - GuÃ­a rÃ¡pida de Postman

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
